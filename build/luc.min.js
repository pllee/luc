/**
 * @license https://github.com/pllee/luc/blob/master/LICENSE
 */
!function(e,t,n){function i(n,s){if(!t[n]){if(!e[n]){var o="function"==typeof require&&require;if(!s&&o)return o(n,!0);if(r)return r(n,!0);throw new Error("Cannot find module '"+n+"'")}var u=t[n]={exports:{}};e[n][0].call(u.exports,function(t){var r=e[n][1][t];return i(r?r:t)},u,u.exports)}return t[n].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(require,module){var Luc={},isBrowser=!1;"undefined"!=typeof window&&(isBrowser=!0),module.exports=Luc;var object=require("./object");Luc.Object=object,Luc.O=object,Luc.apply=Luc.Object.apply,Luc.mix=Luc.Object.mix;var fun=require("./function");Luc.Function=fun,Luc.F=fun,Luc.emptyFn=Luc.Function.emptyFn,Luc.abstractFn=Luc.Function.abstractFn;var array=require("./array");Luc.Array=array,Luc.A=array,Luc.ArrayFnGenerator=require("./arrayFnGenerator"),Luc.apply(Luc,require("./is"));var EventEmitter=require("./events/eventEmitter");Luc.EventEmitter=EventEmitter;var Base=require("./class/base");Luc.Base=Base;var Definer=require("./class/definer");Luc.ClassDefiner=Definer,Luc.define=Definer.define,Luc.Plugin=require("./class/plugin"),Luc.PluginManager=require("./class/pluginManager"),Luc.apply(Luc,{compositionEnums:require("./class/compositionEnums")}),Luc.compare=require("./compare").compare,Luc.id=require("./id"),isBrowser&&(window.Luc=Luc),Luc.addSubmodule=function(namespace,obj){var toAdd;(Luc.alwaysAddSubmodule||isBrowser)&&(toAdd={},toAdd[namespace]=obj,Luc.Object.merge(Luc,toAdd))}},{"./array":4,"./arrayFnGenerator":5,"./class/base":7,"./class/compositionEnums":12,"./class/definer":11,"./class/plugin":10,"./class/pluginManager":9,"./compare":13,"./events/eventEmitter":6,"./function":3,"./id":14,"./is":8,"./object":2}],8:[function(require,module){function isArray(obj){return Array.isArray(obj)}function isObject(obj){return obj&&"[object Object]"===oToString.call(obj)}function isFunction(obj){return"[object Function]"===oToString.call(obj)}function isDate(obj){return"[object Date]"===oToString.call(obj)}function isRegExp(obj){return"[object RegExp]"===oToString.call(obj)}function isNumber(obj){return"[object Number]"===oToString.call(obj)}function isString(obj){return"[object String]"===oToString.call(obj)}function isArguments(obj){return"[object Arguments]"===oToString.call(obj)||obj&&!!obj.callee}function isFalsy(obj){return!obj&&0!==obj}function isEmpty(obj){var empty=!1;return isFalsy(obj)?empty=!0:isArray(obj)?empty=0===obj.length:isObject(obj)&&(empty=0===Object.keys(obj).length),empty}var oToString=Object.prototype.toString;module.exports={isArray:isArray,isObject:isObject,isFunction:isFunction,isDate:isDate,isString:isString,isNumber:isNumber,isRegExp:isRegExp,isArguments:isArguments,isFalsy:isFalsy,isEmpty:isEmpty}},{}],14:[function(require,module){var ids={};module.exports=function(p){var prefix=void 0===p?"luc-":p;return void 0===ids[prefix]&&(ids[prefix]=0),prefix+ids[prefix]++}},{}],2:[function(require,module,exports){function merge(obj1,obj2){return exports.each(obj2,function(key,value){var obj1Value=obj1[key];void 0==obj1Value?obj1[key]=value:is.isObject(obj1Value)&&merge(obj1[key],obj2[key])}),obj1}var is=require("./is");exports.apply=function(toObject,fromObject){var prop,to=toObject||{},from=fromObject||{};for(prop in from)from.hasOwnProperty(prop)&&(to[prop]=from[prop]);return to},exports.mix=function(toObject,fromObject){var prop,to=toObject||{},from=fromObject||{};for(prop in from)from.hasOwnProperty(prop)&&void 0===to[prop]&&(to[prop]=from[prop]);return to},exports.each=function(obj,fn,thisArg,config){var key,allProperties=config&&config.ownProperties===!1;if(allProperties)for(key in obj)fn.call(thisArg,key,obj[key]);else for(key in obj)obj.hasOwnProperty(key)&&fn.call(thisArg,key,obj[key])},exports.toObject=function(strings,values){for(var obj={},i=0,len=strings.length;len>i;++i)obj[strings[i]]=values[i];return obj},exports.filter=function(obj,filterFn,thisArg,c){var values=[],config=c||{};return exports.each(obj,function(key,value){filterFn.call(thisArg,key,value)&&(config.keys===!0?values.push(key):config.values===!0?values.push(value):values.push({value:value,key:key}))},thisArg,config),values},exports.merge=merge},{"./is":8}],3:[function(require,module,exports){function _augmentArgs(config,callArgs){var configArgs=config.args,index=config.index;return configArgs?index===!0||is.isNumber(index)?config.argumentsFirst===!1?aInsert(configArgs,callArgs,index):aInsert(callArgs,configArgs,index):configArgs:callArgs}function _initSequenceFunctions(fns,config){var toRun=[];return aEach(fns,function(f){var fn=f;config&&(fn=exports.createAugmenter(f,config)),toRun.push(fn)}),toRun}var is=require("./is"),aInsert=require("./array").insert,aEach=require("./array").each;exports.emptyFn=function(){},exports.abstractFn=function(){throw new Error("abstractFn must be implemented")},exports.createAugmenter=function(fn,config){var thisArg=config.thisArg;return function(){return fn.apply(thisArg||this,_augmentArgs(config,arguments))}},exports.createSequence=function(fns,config){var functions=_initSequenceFunctions(fns,config);return function(){for(var i=0,lastFnIndex=functions.length-1;lastFnIndex>i;++i)functions[i].apply(this,arguments);return functions[lastFnIndex].apply(this,arguments)}},exports.createSequenceIf=function(fns,config){var functions=_initSequenceFunctions(fns,config);return function(){var value,args=arguments;return functions.some(function(fn){return value=fn.apply(this,args),value===!1},this),value}},exports.createRelayer=function(fns,config){var functions=_initSequenceFunctions(fns,config);return function(){var value,args=arguments;return functions.forEach(function(fn,index){value=0===index?fn.apply(this,args):fn.apply(this,[value])},this),value}},exports.createThrottled=function(f,millis,config){var fn=config?exports.createAugmenter(f,config):f,timeOutId=!1;return millis?function(){var args=arguments;timeOutId&&clearTimeout(timeOutId),timeOutId=setTimeout(function(){timeOutId=!1,fn.apply(this,args)},millis)}:fn},exports.createDeferred=function(f,millis,config){var fn=config?exports.createAugmenter(f,config):f;return millis?function(){var args=arguments;setTimeout(function(){fn.apply(this,args)},millis)}:fn}},{"./array":4,"./is":8}],4:[function(require,module,exports){function _createIteratorFn(fn,c){var config=c||{};return is.isFunction(fn)&&"strict"!==config.type?c?fn.bind(c):fn:(void 0===config.type&&(config.type="loose"),function(value){return compare(fn,value,config)})}function _createIteratorNotFn(fn,config){var functionToNot=_createIteratorFn(fn,config);return function(){return!functionToNot.apply(this,arguments)}}function toArray(item){return Array.isArray(item)?item:null===item||void 0===item?[]:[item]}function last(arr){return arr[arr.length-1]}function pluck(arr,key){return arr.map(function(value){return value&&value[key]})}function fromIndex(a,index){var arr=is.isArguments(a)?arraySlice.call(a):a;return arraySlice.call(arr,index,arr.length)}function each(item,fn,thisArg){var arr=toArray(item);return arr.forEach.call(arr,fn,thisArg)}function insert(firstArrayOrArgs,secondArrayOrArgs,indexOrAppend){var spliceArgs,firstArray=arraySlice.call(firstArrayOrArgs),secondArray=arraySlice.call(secondArrayOrArgs);return indexOrAppend===!0?firstArray.concat(secondArray):(spliceArgs=[indexOrAppend,0].concat(secondArray),firstArray.splice.apply(firstArray,spliceArgs),firstArray)}function removeAtIndex(arr,index){var item=arr[index];return arr.splice(index,1),item}function _removeFirst(arr,fn){var removed=!1;return arr.some(function(value,index){return fn.apply(this,arguments)?(removed=removeAtIndex(arr,index),!0):void 0}),removed}function removeFirst(arr,obj,config){var fn=_createIteratorFn(obj,config);return _removeFirst(arr,fn)}function removeFirstNot(arr,obj,config){var fn=_createIteratorNotFn(obj,config);return _removeFirst(arr,fn)}function _removeAll(arr,fn){var indexsToRemove=[],removed=[];return arr.forEach(function(value,index){fn.apply(this,arguments)&&(indexsToRemove.unshift(index),removed.push(value))}),indexsToRemove.forEach(function(index){removeAtIndex(arr,index)}),removed}function removeAllNot(arr,obj,config){var fn=_createIteratorNotFn(obj,config);return _removeAll(arr,fn)}function removeAll(arr,obj,config){var fn=_createIteratorFn(obj,config);return _removeAll(arr,fn)}function _findFirst(arr,fn){var item=!1;return arr.some(function(value,index){return fn.apply(this,arguments)?(item=arr[index],!0):void 0}),item}function findFirst(arr,obj,config){var fn=_createIteratorFn(obj,config);return _findFirst(arr,fn)}function findFirstNot(arr,obj,config){var fn=_createIteratorNotFn(obj,config);return _findFirst(arr,fn)}function _findAll(arr,fn){return arr.filter(fn)}function findAll(arr,obj,config){var fn=_createIteratorFn(obj,config);return _findAll(arr,fn)}function findAllNot(arr,obj,config){var fn=_createIteratorNotFn(obj,config);return _findAll(arr,fn)}var arraySlice=Array.prototype.slice,compare=require("./compare"),is=require("./is"),compare=compare.compare;exports.toArray=toArray,exports.each=each,exports.insert=insert,exports.fromIndex=fromIndex,exports.last=last,exports.pluck=pluck,exports.removeAtIndex=removeAtIndex,exports.findFirstNot=findFirstNot,exports.findAllNot=findAllNot,exports.findFirst=findFirst,exports.findAll=findAll,exports.removeFirstNot=removeFirstNot,exports.removeAllNot=removeAllNot,exports.removeFirst=removeFirst,exports.removeAll=removeAll,function(){var _createLastFn=function(fnName){var lastName=fnName.replace("First","Last");exports[lastName]=function(arr,obj,config){var ret;return arr.reverse(),ret=exports[fnName](arr,obj,config),arr.reverse(),ret}},namesToAddLast=["findFirstNot","findFirst","removeFirstNot","removeFirst"];namesToAddLast.forEach(function(fnName){_createLastFn(fnName)})}()},{"./compare":13,"./is":8}],5:[function(require,module){var Generator,array=require("./array"),is=require("./is");Generator={arrayFnNames:["findFirstNot","findAllNot","findFirst","findAll","removeFirstNot","removeAllNot","removeFirst","removeAll","removeLastNot","removeLast","findLast","findLastNot"],createFn:function(arrayFnName,fn){return function(arr){return array[arrayFnName](arr,fn)}},createBoundFn:function(arrayFnName,fnToBind){return function(arr){var fn=fnToBind.apply(this,array.fromIndex(arguments,1));return array[arrayFnName](arr,fn)}}},module.exports=Generator,function(){var isToIgnore=["isRegExp","isArguments"];Object.keys(is).forEach(function(key){var name=key.split("is")[1];Generator.arrayFnNames.forEach(function(fnName){-1===isToIgnore.indexOf(key)&&(array[fnName+name]=Generator.createFn(fnName,is[key]))})})}(),function(){var usefullFalsyFns=["findFirstNot","findAllNot","removeFirstNot","removeAllNot","removeFirst","removeAll","removeLastNot","removeLast","findLastNot"],fns={False:function(val){return val===!1},True:function(val){return val===!0},Null:function(val){return null===val},Undefined:function(val){return void 0===val}};Object.keys(fns).forEach(function(key){usefullFalsyFns.forEach(function(fnName){array[fnName+key]=Generator.createFn(fnName,fns[key])})})}(),function(){var fns={InstanceOf:function(Constructor){return function(value){return value instanceof Constructor}},In:function(arr,c){var defaultC={type:"looseRight"};return function(value){if(value!==!1){var cfg=c||defaultC;return array.findFirst(arr,value,"loose"===cfg.type?defaultC:cfg)!==!1}return arr.indexOf(!1)>-1}}};Object.keys(fns).forEach(function(key){Generator.arrayFnNames.forEach(function(fnName){array[fnName+key]=Generator.createBoundFn(fnName,fns[key])})})}()},{"./array":4,"./is":8}],13:[function(require,module,exports){function _strict(val1,val2){return val1===val2}function _compareArrayLength(val1,val2){return is.isArray(val1)&&is.isArray(val2)&&val1.length===val2.length}function _shallowArray(val1,val2){var len,i=0;if(!_compareArrayLength(val1,val2))return!1;for(len=val1.length;len>i;++i)if(val1[i]!==val2[i])return!1;return!0}function _deepArray(val1,val2,config){var len,i=0;if(!_compareArrayLength(val1,val2))return!1;for(len=val1.length;len>i;++i)if(!compare(val1[i],val2[i],config))return!1;return!0}function _compareObjectKeysLength(val1,val2){return is.isObject(val1)&&is.isObject(val2)&&Object.keys(val1).length===Object.keys(val2).length}function _shallowObject(val1,val2){var key;if(!_compareObjectKeysLength(val1,val2))return!1;for(key in val1)if(val1.hasOwnProperty(key)&&(value=val1[key],!val2.hasOwnProperty(key)||val2[key]!==value))return!1;return!0}function _deepObject(val1,val2,config){var key;if(!_compareObjectKeysLength(val1,val2))return!1;for(key in val1)if(val1.hasOwnProperty(key)&&(value=val1[key],!val2.hasOwnProperty(key)||compare(value,val2[key],config)!==!0))return!1;return!0}function _looseObject(val1,val2,config){var key;if(!is.isObject(val1)||!is.isObject(val2))return!1;if("looseRight"===config.type){for(key in val2)if(val2.hasOwnProperty(key)&&(value=val2[key],compare(value,val1[key],config)!==!0))return!1}else for(key in val1)if(val1.hasOwnProperty(key)&&(value=val1[key],compare(value,val2[key],config)!==!0))return!1;return!0}function _date(val1,val2){return is.isDate(val1)&&is.isDate(val2)?val1.getTime()===val2.getTime():!1}function getCompareFn(object,c){var compareFn=_strict,config=c||{},type=config.type;if("deep"===type||"loose"===type||"looseRight"===type||void 0===type)is.isObject(object)?compareFn="loose"===type||"looseRight"===type?_looseObject:_deepObject:is.isArray(object)?compareFn=_deepArray:is.isDate(object)&&(compareFn=_date);else if("shallow"===type)is.isObject(object)?compareFn=_shallowObject:is.isArray(object)?compareFn=_shallowArray:is.isDate(object)&&(compareFn=_date);else if("strict"!==type)throw new Error("You passed in an invalid comparison type");return compareFn}function compare(val1,val2,config){return getCompareFn(val1,config)(val1,val2,config)}var is=require("./is");exports.compare=compare},{"./is":8}],7:[function(require,module){function Base(){this.beforeInit.apply(this,arguments),this.init()}var emptyFn=require("../function").emptyFn,apply=require("../object").apply;Base.prototype={beforeInit:function(config){apply(this,config)},init:emptyFn},module.exports=Base},{"../function":3,"../object":2}],9:[function(require,module){function PluginManager(config){this._init(config)}var Plugin=require("./plugin"),is=require("../is"),obj=require("../object"),arr=require("../array"),aEach=arr.each,apply=(obj.mix,obj.apply);PluginManager.prototype={defaultPlugin:Plugin,_init:function(instanceValues){apply(this,instanceValues),this.plugins=[],this._createPlugins()},_createPlugins:function(){aEach(this._getPluginConfigFromInstance(),function(pluginConfig){this.addPlugin(pluginConfig)},this)},_getPluginConfigFromInstance:function(){var config=this.instanceArgs[0]||{};return config.plugins},addPlugin:function(pluginConfig){var pluginInstance=this._createPlugin(pluginConfig);return this._initPlugin(pluginInstance),this.plugins.push(pluginInstance),pluginInstance},_createPlugin:function(config){return config.owner=this.instance,config.Constructor?new config.Constructor(apply(config,{Constructor:void 0})):new this.defaultPlugin(config)},_initPlugin:function(plugin){is.isFunction(plugin.init)&&plugin.init(this.instance)},destroyAllPlugins:function(){this.plugins.forEach(function(plugin){this._destroyPlugin(plugin)},this),this.plugins=[]},_destroyPlugin:function(plugin){is.isFunction(plugin.destroy)&&plugin.destroy(this.instance)},destroyPlugin:function(obj){var plugin=this.getPlugin(obj);return plugin&&(this._destroyPlugin(plugin),arr.removeFirst(this.plugins,plugin,{type:"strict"})),plugin},getPlugin:function(obj){return is.isFunction(obj)?arr.findFirstInstanceOf(this.plugins,obj):arr.findFirst(this.plugins,obj,{type:"loose"})}},module.exports=PluginManager},{"../array":4,"../is":8,"../object":2,"./plugin":10}],10:[function(require,module){function Plugin(config){apply(this,config)}var obj=(require("../array").each,require("../object")),emptyFn=require("../function").emptyFn,apply=obj.apply;Plugin.prototype={init:emptyFn,destroy:emptyFn},module.exports=Plugin},{"../array":4,"../function":3,"../object":2}],11:[function(require,module){var ClassDefiner,Base=require("./base"),Composition=require("./composition"),obj=require("../object"),arrayFns=require("../array"),emptyFn=require("../function").emptyFn,is=require("../is"),aEach=arrayFns.each,apply=obj.apply,oEach=obj.each,mix=(obj.filter,obj.mix),arraySlice=Array.prototype.slice;ClassDefiner={COMPOSITIONS_NAME:"$compositions",defaultType:Base,processorKeys:{$mixins:"_applyMixins",$statics:"_applyStatics",$compositions:"_applyComposerMethods",$super:"_applySuper"},define:function(opts,after){var Constructor,options=opts||{},Super=options.$super||(void 0===options.$super?this.defaultType:!1),afterDefine=after||emptyFn;return options.$super=Super,Constructor=this._createConstructor(options),this._processAfterCreate(Constructor,options),afterDefine.call(Constructor,Constructor),Constructor},_createConstructor:function(options){var superclass=options.$super,Constructor=this._createConstructorFn(options);return superclass&&(Constructor.prototype=Object.create(superclass.prototype)),Constructor},_createConstructorFn:function(options){var Constructor,superclass=options.$super;return Constructor=this._hasConstructorModifyingOptions(options)?this._createConstructorFromOptions(options):superclass?function(){superclass.apply(this,arguments)}:function(){}},_hasConstructorModifyingOptions:function(options){return options.$compositions},_createConstructorFromOptions:function(options){var initBeforeSuperclass,initAfterSuperclass,init,superclass=options.$super;return superclass?(initBeforeSuperclass=this._createInitClassFn(options,{before:!0}),initAfterSuperclass=this._createInitClassFn(options,{before:!1}),function(){var args=arraySlice.call(arguments);initBeforeSuperclass.call(this,options,args),superclass.apply(this,arguments),initAfterSuperclass.call(this,options,args)}):(init=this._createInitClassFn(options,{all:!0}),function(){var args=arraySlice.call(arguments);init.call(this,options,args)})},_createInitClassFn:function(options,config){var me=this,compositions=this._filterCompositions(config,options.$compositions);return 0===compositions.length?emptyFn:function(options,instanceArgs){me._initCompositions.call(this,compositions,instanceArgs)}},_filterCompositions:function(config,compositions){var before=config.before,filtered=[];return config.all?compositions:(aEach(compositions,function(composition){(before&&composition.initAfter!==!0||!before&&composition.initAfter===!0)&&filtered.push(composition)}),filtered)},_processAfterCreate:function($class,options){this._applyValuesToProto($class,options),this._handlePostProcessors($class,options)},_applyValuesToProto:function($class,options){var proto=$class.prototype,values=apply({$class:$class},options);oEach(values,function(key,value){this._getProcessorKey(key)||(proto[key]=value)},this)},_getProcessorKey:function(key){return this.processorKeys[key]},_handlePostProcessors:function($class,options){oEach(options,function(key){var method=this._getProcessorKey(key);is.isFunction(this[method])&&this[method].call(this,$class,options[key])},this)},_applyMixins:function($class,mixins){var proto=$class.prototype;aEach(mixins,function(mixin){var toMix=mixin.prototype||mixin;mix(proto,toMix)})},_applyStatics:function($class,statics){var prototype=$class.prototype;apply($class,statics),void 0===prototype.getStaticValue&&(prototype.getStaticValue=this.getStaticValue)},_applyComposerMethods:function($class,compositions){var methodsToCompose,prototype=$class.prototype;aEach(compositions,function(compositionConfig){var composition=new Composition(compositionConfig),name=composition.name;composition.Constructor,composition.validate(),methodsToCompose=composition.getMethodsToCompose(),methodsToCompose.forEach(function(key){void 0===prototype[key]&&(prototype[key]=this._createComposerProtoFn(key,name))},this),void 0===prototype.getComposition&&(prototype.getComposition=this.getComposition)},this)},_applySuper:function($class,$super){var proto,superObj;$super&&(superObj={$super:$super,$superclass:$super.prototype},proto=$class.prototype,apply(proto,superObj),apply($class,superObj),this._addSuperMethod(proto))},_addSuperMethod:function(proto){function getSuperMethod(callee,sp){var key,$super=sp||proto;for(key in $super)if($super[key]===callee)return $super.$superclass[key];return getSuperMethod(callee,$super.$superclass)}function callSuper(args){var superMethod=getSuperMethod(callSuper.caller);if(superMethod)return superMethod.apply(this,args);throw new Error("super method not found.")}proto.callSuper=callSuper},_createComposerProtoFn:function(methodName,compositionName){return function(){var comp=this[ClassDefiner.COMPOSITIONS_NAME][compositionName];return comp[methodName].apply(comp,arguments)}},_initCompositions:function(compositions,instanceArgs){this[ClassDefiner.COMPOSITIONS_NAME]||(this[ClassDefiner.COMPOSITIONS_NAME]={}),aEach(compositions,function(compositionConfig){var composition,config=apply({instance:this,instanceArgs:instanceArgs},compositionConfig);composition=new Composition(config),this[ClassDefiner.COMPOSITIONS_NAME][composition.name]=composition.getInstance()},this)},getComposition:function(key){return this[ClassDefiner.COMPOSITIONS_NAME][key]},getStaticValue:function(key,$class){var $super,value,classToFindValue=$class||this.$class;return value=classToFindValue[key],void 0===value&&($super=classToFindValue.prototype.$super)?this.getStaticValue(key,$super):value}},ClassDefiner.define=ClassDefiner.define.bind(ClassDefiner),module.exports=ClassDefiner},{"../array":4,"../function":3,"../is":8,"../object":2,"./base":7,"./composition":15}],12:[function(require,module){var EventEmitter=require("../events/eventEmitter"),PluginManager=require("./pluginManager");module.exports.EventEmitter={Constructor:EventEmitter,name:"emitter",methods:"allMethods"},module.exports.PluginManager={name:"plugins",initAfter:!0,Constructor:PluginManager,create:function(){return new this.Constructor({instance:this.instance,instanceArgs:this.instanceArgs})},ignoreMethods:"defaultPlugin",methods:"publicMethods"}},{"../events/eventEmitter":6,"./pluginManager":9}],6:[function(require,module){var EventEmitter=require("events").EventEmitter;/**
 * @license https://raw.github.com/joyent/node/v0.10.11/LICENSE
 * Node js license. EventEmitter will be in the client
 * only code.
 */
EventEmitter.prototype.once=function(type,listener){var self=this,g=function(){self.removeListener(type,g),listener.apply(this,arguments)};return self.on(type,g),this},module.exports=EventEmitter},{events:16}],17:[function(require,module){var process=module.exports={};process.nextTick=function(){var canSetImmediate="undefined"!=typeof window&&window.setImmediate,canPost="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(canSetImmediate)return function(f){return window.setImmediate(f)};if(canPost){var queue=[];return window.addEventListener("message",function(ev){if(ev.source===window&&"process-tick"===ev.data&&(ev.stopPropagation(),queue.length>0)){var fn=queue.shift();fn()}},!0),function(fn){queue.push(fn),window.postMessage("process-tick","*")}}return function(fn){setTimeout(fn,0)}}(),process.title="browser",process.browser=!0,process.env={},process.argv=[],process.binding=function(){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(){throw new Error("process.chdir is not supported")}},{}],16:[function(require,module,exports){function indexOf(xs,x){if(xs.indexOf)return xs.indexOf(x);for(var i=0;i<xs.length;i++)if(x===xs[i])return i;return-1}var process=require("__browserify_process");process.EventEmitter||(process.EventEmitter=function(){});var EventEmitter=exports.EventEmitter=process.EventEmitter,isArray="function"==typeof Array.isArray?Array.isArray:function(xs){return"[object Array]"===Object.prototype.toString.call(xs)},defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(n){this._events||(this._events={}),this._events.maxListeners=n},EventEmitter.prototype.emit=function(type){if("error"===type&&(!this._events||!this._events.error||isArray(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var handler=this._events[type];if(!handler)return!1;if("function"==typeof handler){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:var args=Array.prototype.slice.call(arguments,1);handler.apply(this,args)}return!0}if(isArray(handler)){for(var args=Array.prototype.slice.call(arguments,1),listeners=handler.slice(),i=0,l=listeners.length;l>i;i++)listeners[i].apply(this,args);return!0}return!1},EventEmitter.prototype.addListener=function(type,listener){if("function"!=typeof listener)throw new Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",type,listener),this._events[type])if(isArray(this._events[type])){if(!this._events[type].warned){var m;m=void 0!==this._events.maxListeners?this._events.maxListeners:defaultMaxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),console.trace())}this._events[type].push(listener)}else this._events[type]=[this._events[type],listener];else this._events[type]=listener;return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){var self=this;return self.on(type,function g(){self.removeListener(type,g),listener.apply(this,arguments)}),this},EventEmitter.prototype.removeListener=function(type,listener){if("function"!=typeof listener)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[type])return this;var list=this._events[type];if(isArray(list)){var i=indexOf(list,listener);if(0>i)return this;list.splice(i,1),0==list.length&&delete this._events[type]}else this._events[type]===listener&&delete this._events[type];return this},EventEmitter.prototype.removeAllListeners=function(type){return 0===arguments.length?(this._events={},this):(type&&this._events&&this._events[type]&&(this._events[type]=null),this)},EventEmitter.prototype.listeners=function(type){return this._events||(this._events={}),this._events[type]||(this._events[type]=[]),isArray(this._events[type])||(this._events[type]=[this._events[type]]),this._events[type]},EventEmitter.listenerCount=function(emitter,type){var ret;return ret=emitter._events&&emitter._events[type]?"function"==typeof emitter._events[type]?1:emitter._events[type].length:0}},{__browserify_process:17}],15:[function(require,module){function Composition(c){var defaults=c.defaults,config=c;defaults&&(mix(config,config.defaults),delete config.defaults),apply(this,config)}var obj=require("../object"),array=require("../array"),apply=obj.apply,mix=obj.mix,oFilter=obj.filter,emptyFn="../function".emptyFn,is=require("../is");Composition.prototype={create:function(){return new this.Constructor},getInstance:function(){return this.create()},validate:function(){if(void 0===this.name)throw new Error("A name must be defined");if(!is.isFunction(this.Constructor)&&this.create===Composition.prototype.create)throw new Error("The Constructor must be function if create is not overridden")},filterMethodFns:{allMethods:function(key,value){return is.isFunction(value)},publicMethods:function(key,value){return is.isFunction(value)&&"_"!==key.charAt(0)}},methods:emptyFn,ignoreMethods:void 0,getObjectWithMethods:function(){var methodsObj=this.Constructor&&this.Constructor.prototype;return this.ignoreMethods&&(methodsObj=apply({},methodsObj),array.each(this.ignoreMethods,function(value){delete methodsObj[value]})),methodsObj},getMethodsToCompose:function(){var filterFn,methods=this.methods;return is.isArray(methods)?methods:(filterFn=methods,is.isString(methods)&&(filterFn=this.filterMethodFns[methods]),oFilter(this.getObjectWithMethods(),filterFn,this,{ownProperties:!1,keys:!0}))}},module.exports=Composition},{"../array":4,"../is":8,"../object":2}]},{},[1]);